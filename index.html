<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>SW_Wind 的个人首页</title>
  <script src="https://cdn.bootcss.com/matter-js/0.12.0/matter.min.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Gugi" rel="stylesheet">
  <style type="text/css">
    body, html {
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    canvas {
      position: absolute;
      left: 0;
      top: 0;
    }
    .text {
      font-family: 'Gugi', cursive;
      position: absolute;
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body>
  <p class="text" style="top: 20px;left: 20px;">Coming soon...<br>Powered by Matter.js</p>
<script type="text/javascript">
var Engine = Matter.Engine;
var Render = Matter.Render;
var Bodies = Matter.Bodies;
var Events = Matter.Events;
var World  = Matter.World;
var Body   = Matter.Body;

var engine = Engine.create();

var render = Render.create({
  element: document.body,
  engine: engine,
  options: {
    width: window.innerWidth,
    height: window.innerHeight,
    background: 'rgba(255, 255, 255, 0)',
    wireframes: false
  }
});

var groundHeight = 150;

// 创建刚体
var rect = Bodies.circle(300, 100, 25, { restitution: .5 }), // 矩形
    // circle = Bodies.rectangle(200, 100, 50, 50), // 圆
    // polygon = Bodies.polygon(450, 100, 5, 25), // 多边形
    // trapezoid = Bodies.trapezoid(590, 100, 50, 50, 3); // 梯形
    ground = Bodies.rectangle(window.innerWidth / 2, window.innerHeight - groundHeight / 2, window.innerWidth, groundHeight, { isStatic: true })

// 将刚体添加到世界中
World.add(engine.world, [rect, ground]);

var keydown = {
  left: false,
  right: false,
  up: false,
  down: false
}
document.addEventListener('keydown', function (e) {
  if (e.key === 'ArrowRight' || e.key === 'd') {
    !keydown.right && Body.applyForce(rect, rect.position, {x: .05, y: 0});
    keydown.right = true;
  }
  if (e.key === 'ArrowLeft' || e.key === 'a') {
    !keydown.left && Body.applyForce(rect, rect.position, {x: -.05, y: 0});
    keydown.left = true;
  }
  if (e.key === 'ArrowUp' || e.key === 'w') {
    !keydown.up && Body.applyForce(rect, rect.position, {x: 0, y: -.05});
    keydown.up = true;
  }
  if (e.key === 'ArrowDown' || e.key === 's') {
    !keydown.down && Body.applyForce(rect, rect.position, {x: 0, y: .05});
    keydown.down = true;
  }
})
document.addEventListener('keyup', function (e) {
  if (e.key === 'ArrowRight' || e.key === 'd') {
    keydown.right = false;
  }
  if (e.key === 'ArrowLeft' || e.key === 'a') {
    keydown.left = false;
  }
  if (e.key === 'ArrowUp' || e.key === 'w') {
    keydown.up = false;
  }
  if (e.key === 'ArrowDown' || e.key === 's') {
    keydown.down = false;
  }
})

Engine.run(engine);
Render.run(render);
</script>
</body>
</html>